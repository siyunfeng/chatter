extends layouts/login-layout.pug

block content
    .loginContainer
        h1 Sign Up
        form#signupForm(method="post", onsubmit='event.preventDefault(); validateForm()')
            p.signupErrMsg #{errorMessage || `Let's create a new account!`}

            input(type="text", name="firstName", placeholder="First Name", value=firstName, required="")
            input(type="text", name="lastName", placeholder="Last Name", value=lastName, required="")
            input(type="text", name="username", placeholder="Username", value=username, required="")
            input(type="email", name="email", placeholder="Email", value=email, required="")
            input#password(type="password", name="password", placeholder="Password", required="")
            input#passwordConfirm(type="password", name="passwordConfirm", placeholder="Comfirm Password", required="")
            input(type="submit", value="sign up")
        .loginSignupOptions Already have an account?  
        a(href="/login") 
            button Login
    
    script.
        let password = document.getElementById('password')
        let passwordConfirm = document.getElementById('passwordConfirm')

        let form = document.getElementById('signupForm')

        const validateForm = () => {
            if (password.value !== passwordConfirm.value) {
                alert(`Username and password do not match. Please try again.`)
            } else {
                form.submit()
            }
        }
            
